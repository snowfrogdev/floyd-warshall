<div class="container">
  <div class="left-panel">
    <div class="collections">
      <!-- <div [@distAnimation]="distForDisplay.length" class="dist-matrix">
        <div [@distAnimation]="row.length" *ngFor="let row of distForDisplay" style="display: flex">
          <div
            *ngFor="let element of row"
            class="dist-element"
            [ngStyle]="{
              'background-color': 'blue'
            }"
          ></div>
        </div>
      </div> -->
    </div>

    <div
      #tileMapElement
      class="tile-map"
      [style]="{
        'grid-template-columns': 'repeat(' + numberOfCols + ', 1.25rem)',
        'grid-template-rows': 'repeat(' + numberOfRows + ', 1.25rem)'
      }"
    >
      <div *ngFor="let tile of tiles" class="tile" [style.background-color]="tile.color"></div>
    </div>

    <div class="controls">
      <div>
        <button (click)="stepBackward()">Backward</button>
        <button (click)="reset()">Reset</button>
        <button (click)="play()">Play</button>
        <button (click)="pause()">Pause</button>
        <button (click)="stepForward()">Forward</button>
      </div>
      <div>
        <button (click)="slowDown()">-</button>
        <button (click)="speedUp()">+</button>
      </div>
    </div>
  </div>

  <div class="right-panel">
    <pre><code class="code"><span>function floydWarshall(<span #adjacencyMatrixCodeElement [matTooltip]="adjacencyMatrix | json">adjacencyMatrix</span>):</span>
  <span [appCodeLine]="2" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="dist | json">dist</span> = copy of <span [matTooltip]="adjacencyMatrix | json">adjacencyMatrix</span></span>
  <span [appCodeLine]="3" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="next | json">next</span> = new matrix of size <span [matTooltip]="V | json">|V|</span> x <span [matTooltip]="V | json">|V|</span></span>
  <span [appCodeLine]="4" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">for <span [matTooltip]="u | json">u</span> from 0 to <span [matTooltip]="V | json">|V|</span> - 1:</span>
    <span [appCodeLine]="5" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">for <span [matTooltip]="v | json">v</span> from 0 to <span [matTooltip]="V | json">|V|</span> - 1:</span>
      <span [appCodeLine]="6" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">if <span [matTooltip]="u | json">u</span> == <span [matTooltip]="v | json">v</span>:</span>
        <span [appCodeLine]="7" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="v | json">v</span>][<span [matTooltip]="v | json">v</span>] = 0</span>
        <span [appCodeLine]="8" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="next | json">next</span>[<span [matTooltip]="v | json">v</span>][<span [matTooltip]="v | json">v</span>] = <span [matTooltip]="v | json">v</span></span>
      <span [appCodeLine]="9" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">else if adjacenyMatrix[<span [matTooltip]="u | json">u</span>][<span [matTooltip]="v | json">v</span>] != 0:</span>
        <span [appCodeLine]="10" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="next | json">next</span>[<span [matTooltip]="u | json">u</span>][<span [matTooltip]="v | json">v</span>] = <span [matTooltip]="v | json">v</span></span>
      else:
        <span [appCodeLine]="12" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="u | json">u</span>][<span [matTooltip]="v | json">v</span>] = infinity</span>
        <span [appCodeLine]="13" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="next | json">next</span>[<span [matTooltip]="u | json">u</span>][<span [matTooltip]="v | json">v</span>] = null</span>

  <span [appCodeLine]="15" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">for <span [matTooltip]="k | json">k</span> from 0 to <span [matTooltip]="V | json">|V|</span> - 1:</span>
    <span [appCodeLine]="16" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">for <span [matTooltip]="i | json">i</span> from 0 to <span [matTooltip]="V | json">|V|</span> - 1:</span>
      <span [appCodeLine]="17" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">for <span [matTooltip]="j | json">j</span> from 0 to <span [matTooltip]="V | json">|V|</span> - 1:</span>
        <span [appCodeLine]="18" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">if <span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="j | json">j</span>] > <span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="k | json">k</span>] + <span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="k | json">k</span>][<span [matTooltip]="j | json">j</span>]:</span>
          <span [appCodeLine]="19" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="j | json">j</span>] = <span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="k | json">k</span>] + <span [matTooltip]="dist | json">dist</span>[<span [matTooltip]="k | json">k</span>][<span [matTooltip]="j | json">j</span>]</span>
          <span [appCodeLine]="20" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)"><span [matTooltip]="next | json">next</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="j | json">j</span>] = <span [matTooltip]="next | json">next</span>[<span [matTooltip]="i | json">i</span>][<span [matTooltip]="k | json">k</span>]</span>

<span [appCodeLine]="22" [lineToHighlight]="currentLine" (debuggerPoint)="handleDebuggerPoint($event)">return <span [matTooltip]="dist | json">dist</span>, <span [matTooltip]="next | json">next</span></span>

function reconstructPath(next, u, v):
  if next[u][v] == -1:
    return []
  path = [u]
  while u != v:
    u = next[u][v]
    path.append(u)
  return path</code></pre>
  </div>
</div>
